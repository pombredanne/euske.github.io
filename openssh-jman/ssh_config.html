<html>
<head>
<style><!--
.info { font-size: 80%; }
.op { left-margin: 4em; }
.name { font-weight: bold; }
.nm { font-weight: bold; }
.xr { }
.cite { font-style: italic; }
.arg { font-style: italic; text-decoration: underline; }
.flag { }
.env { }
.config { font-weight: bold; }
.file { font-weight: bold; }
.cmdline { background: #eee; margin: 0.5em; padding: 0.5em; }
--></style>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>SSH_CONFIG (5)</title>
</head><body>
<h1>SSH_CONFIG (5)</h1>
<p class=info><a href="http://www.openssh.com/ja/">OpenSSH</a>-6.7p1 日本語マニュアルページ (2014/10/13)
<hr>
<h2><a href="#名前" name="名前">名前</a></h2>
<div class="name">ssh_config</div>
<blockquote>OpenSSH SSH クライアント 設定ファイル</blockquote>
<hr>
<h2><a href="#書式" name="書式">書式</a></h2>
<code><span class="nm">~/.ssh/config</span></code>
<code><span class="nm">/etc/ssh/ssh_config</span></code>
<hr>
<h2><a href="#説明" name="説明">説明</a></h2>
<a href="ssh.html"><span class="xr">ssh (1)</span></a>
は以下のものから (この順序で) 設定情報を取得します:
<p>
<blockquote>
<p><dt>
<dd>
コマンドラインオプション<p><dt>
<dd>
ユーザごとの設定ファイル<div>
<span class="file"><code>~/.ssh/config</code></span></div>
<p><dt>
<dd>
システム全体にわたる (system-wide) 設定ファイル<div>
<span class="file"><code>/etc/ssh/ssh_config</code></span></div>
</blockquote>

<p>
各設定項目にはそれぞれ最初に見つかったものが使われます。設定ファイルはいくつかのセクションに分かれており、これらは"Host"キーワードにより区切られています。あるセクションの設定が適用されるのは、通常コマンドラインから与えられたホスト名が、このキーワードで指定されているパターンのどれかにマッチするときだけです。(例外については<span class="config"><code>CanonicalizeHostname</code></span>を参照。)
<p>
各設定項目で最初に見つかった値が使われるので、ホストに特化した宣言をファイルの先頭近くに置くようにし、一般的なものを後に置くのがよいでしょう。
<p>
設定ファイルは以下のような形式になっています:
<p>
空行、および <kbd>#</kbd> で始まる行は、コメントとみなされます。それ以外の場合、この行は"キーワード 引数"という形式になっています。キーワードと引数は、空白またはひとつの <kbd>=</kbd> (間に空白を含んでいてもよい) によって区切られます。後者の形式は、<code><span class="nm">ssh</span></code>
,<code><span class="nm">scp</span></code>
および<code><span class="nm">sftp</span></code>
などで<code><span class="flag">-o</span></code> オプションを使って設定項目を指定するときに、空白をクォートする必要がないようにするためです。空白を含む引数は、ダブルクォート<div>
</div>
で囲んで表現することもできます。
<p>
とりうるキーワードとその意味は以下のとおりです(キーワードは大文字小文字どちらでもかまいませんが、その引数は大文字小文字が区別されることに注意してください) :<dl>
<p><dt>
<span class="config"><code>Host (ホスト)</code></span><dd>
これ以後の (次の<span class="config"><code>Host</code></span>または<span class="config"><code>Match</code></span>キーワードが現れるまでの) 設定項目を、ここで指定されたパターンのどれかにマッチするホストだけに制限します。複数のパターンを与える場合は、それらを空白で区切ってください。 <kbd>*</kbd> は、すべてのホストに対するデフォルトとして使えます。ここでいうホストとは、通常はコマンドライン引数で与えられた<span class="arg">ホスト名</span> そのもののことです(例外については<span class="config"><code>CanonicalizeHostname</code></span>を参照してください。)
<p>
パターンの前に感嘆符<div>
 `<kbd>!</kbd>' </div>
をつけると否定の意味になります。否定されたパターンにマッチした場合、行中のほかのパターンがマッチしたときでも<span class="config"><code>Host</code></span>項目は無視されます。したがって、否定のパターンはワイルドカードに対する例外を記述するのに有用です。
<p>
パターン (ワイルドカード文字) についての詳細は<a href="#パターン">パターン</a>の項を参照してください。<p><dt>
<span class="config"><code>Match (マッチ)</code></span><dd>
このキーワードに続いて現れる条件が満たされた時のみ、(次の<span class="config"><code>Host</code></span>または<span class="config"><code>Match</code></span>キーワードが現れるまで)以下の宣言を有効にします。Match 指令の引数は、ひとつ以上の「種類  パターン」の組か、あるいは常にマッチする単一の引数<span class="config"><code>all</code></span>によって与えられます。使用可能なキーワードとして:<span class="config"><code>canonical ,</code></span><span class="config"><code>exec ,</code></span><span class="config"><code>host ,</code></span><span class="config"><code>originalhost ,</code></span><span class="config"><code>user ,</code></span>および+.Cm localuserがあります。<span class="config"><code>all</code></span>キーワードは単一で使われるか、あるいは<span class="config"><code>canonical</code></span>の直後に来る必要があります。これ以外のキーワードは任意の組み合わせが可能です。<span class="config"><code>all</code></span>および<span class="config"><code>canonical</code></span>をのぞくすべてのキーワードには、引数が必要です。キーワードは感嘆符<div>
 `<kbd>! .</kbd>' </div>
を前につけることで否定することができます。
<p>
The<span class="config"><code>canonical</code></span>キーワードは、ホスト名の正規化されたあとに設定ファイルが再度読み込まれた時にのみマッチします。(<span class="config"><code>CanonicalizeHostname</code></span>を参照。)これは正規化されたホスト名のみに対して指定したい条件があるときに有用です。<span class="config"><code>exec</code></span>キーワードは、指定されたコマンドをそのユーザのシェルで実行します。このコマンドが終了状態ゼロを返した場合、この条件は真であるとみなされます。コマンド名が空白文字を含む場合はクォートする必要があります。コマンド中に現れる以下の文字列シーケンスは、コマンドの実行前に展開されます: <kbd>%L</kbd> はローカルのホスト名の最初の部分に、 <kbd>%l</kbd> はローカルのホスト名 (ドメイン名がある場合はそれも含む) に、 <kbd>%h</kbd> は対象のリモートホスト名に、 <kbd>%n</kbd> はもとのコマンドラインで指定されたホスト名に、 <kbd>%p</kbd> はポートに、 <kbd>%r</kbd> はリモート側のログイン名に、そして <kbd>%u</kbd> は<a href="ssh.html"><span class="xr">ssh (1)</span></a>
を実行するユーザのログイン名に変換されます。
<p>
これ以外のキーワードは、単一の引数かカンマで区切られたリストであり、<a href="#パターン">パターン</a>の項にあるワイルドカードまたは否定演算子を使うことができます。<span class="config"><code>host</code></span>キーワードの引数は<span class="config"><code>Hostname</code></span>または<span class="config"><code>CanonicalizeHostname</code></span>項目による置換後の対象ホスト名と比較されます。<span class="config"><code>originalhost</code></span>キーワードは、コマンドラインで指定されたホスト名と比較されます。<span class="config"><code>user</code></span>キーワードは、リモートホスト上の対象ユーザ名と比較されます。<span class="config"><code>localuser</code></span>キーワードは、ローカルホスト上で<a href="ssh.html"><span class="xr">ssh (1)</span></a>
を走らせているユーザ名と比較されます。(このキーワードは、システム全体で<code><span class="nm">ssh_config</span></code>
ファイルを使用するときに有用です)<p><dt>
<span class="config"><code>AddressFamily (アドレスファミリ)</code></span><dd>
接続時にどのアドレスファミリを利用するかを指定します。指定できる値は"any"、"inet"(IPv4 のみを使用する) または"inet6"(IPv6 のみを使用する) のいずれかになります。<p><dt>
<span class="config"><code>BatchMode (バッチ処理モード)</code></span><dd>
これが"yes"に設定されていると、パスフレーズおよびパスワードの入力を求めないようになります。この設定項目はスクリプトなどにおけるバッチ処理中で、パスワードを打ち込むユーザがいない場合に便利です。引数の値は"yes"あるいは"no"です。デフォルトは"no (パスワードあるいはパスフレーズの入力を求める)"です。<p><dt>
<span class="config"><code>BindAddress (bind するアドレス)</code></span><dd>
ローカルマシン上で、指定されたアドレスを接続のソース側アドレスとして使用します。この機能が有用なのは、複数のIPアドレスをもっているマシン上のみです。この設定は<span class="config"><code>UsePrivilegedPort</code></span>項目が"yes"になってるときは機能しないので注意してください。<p><dt>
<span class="config"><code>CanonicalDomains (正規ドメイン)</code></span><dd>
<span class="config"><code>CanonicalizeHostname</code></span>が有効な場合、この設定項目は特定の対象ホストを検索するさいに付加されるドメインのリストを指定します。<p><dt>
<span class="config"><code>CanonicalizeFallbackLocal (正規化失敗時のふるまい)</code></span><dd>
ホスト名の正規化に失敗した場合、エラーとみなすかどうかを指定します。デフォルトではこれは"yes"であり、失敗時にシステムのリゾルバを使用してqualifyされていないホスト名で接続しようとします。この値を"no"に指定すると、<span class="config"><code>CanonicalizeHostname</code></span>が有効な場合、対象となるホストが<span class="config"><code>CanonicalDomains</code></span>で指定されたドメイン内に見つからなければ<a href="ssh.html"><span class="xr">ssh (1)</span></a>
は即座にエラーとなります。<p><dt>
<span class="config"><code>CanonicalizeHostname (ホスト名正規化)</code></span><dd>
明示的なホスト名の正規化をおこなうかどうかを指定します。デフォルトでは"no"であり、ホスト名の書き換えはおこなわず、システムのリゾルバにすべてのホスト名解決を一任します。この項目で"yes"を指定すると、<span class="config"><code>ProxyCommand</code></span>を使わない接続では<a href="ssh.html"><span class="xr">ssh (1)</span></a>
はコマンドラインで指定されたホスト名を<span class="config"><code>CanonicalDomains</code></span>項目のサフィックスおよび<span class="config"><code>CanonicalizePermittedCNAMEs</code></span>の規則にもとづいて正規化しようとします。<span class="config"><code>CanonicalizeHostname</code></span>が"always"に指定されている場合、ホスト名の正規化はプロキシ経由の接続に対してもおこなわれます。
<p>
この設定が許可されており、正規化の結果、対象となるホスト名が変わった場合にはふたたび設定ファイルが読み込まれ、新しい対象ホスト名に対する<span class="config"><code>Host</code></span>節の設定が使われます。
<p>
この項目が有効の場合、設定ファイルは新しい名前を使ってもう一度読み込まれ、<span class="config"><code>Host</code></span>または<span class="config"><code>Match</code></span>節にマッチする新しい設定項目が使用されます。<p><dt>
<span class="config"><code>CanonicalizeMaxDots (正規化時の最大ドット数)</code></span><dd>
正規化が禁止されるまでホスト名の前に許される最大のドット数を指定します。デフォルトは"1"であり、単一のドットしか許しません (例: hostname.subdomain)。<p><dt>
<span class="config"><code>CanonicalizePermittedCNAMEs (正規化時のCNAMEの使用)</code></span><dd>
ホスト名を正規化する際に、CNAME に従う場合の規則を指定します。ここでの規則は<span class="arg">source_domain_list</span> :<span class="arg">target_domain_list</span> からなるひとつ以上の引数で表されます。<span class="arg">source_domain_list</span> (もとのドメイン名のリスト) は正規化時に CNAME に従うドメイン名のパターンのリストであり、<span class="arg">target_domain_list</span> (対象となるドメイン名のリスト) はそれが解決される先のドメイン名のパターンのリストです。
<p>
たとえば、"*.a.example.com:*.b.example.com,*.c.example.com"は以下のホスト名マッチング"*.a.example.com"が"*.b.example.com"または"*.c.example.com"ドメインの名前に正規化できることを意味します。<p><dt>
<span class="config"><code>ChallengeResponseAuthentication (チャレンジ・レスポンス認証)</code></span><dd>
チャレンジ・レスポンス認証をおこなうかどうかを指定します。この引数がとりうる値は"yes"あるいは"no"です。デフォルトでは"yes (チャレンジ・レスポンス認証をおこなう)"になっています。<p><dt>
<span class="config"><code>CheckHostIP (ホスト IP の検査)</code></span><dd>
この項目が"yes"に設定されていると、<a href="ssh.html"><span class="xr">ssh (1)</span></a>
は接続先ホスト名の IP アドレスが<span class="file"><code>known_hosts</code></span>に書かれている同一ホスト名 IP アドレスと同じかどうか検査するようになります。これによって、DNS 詐称によりホスト鍵が変えられたことを検出できます。この項目が"no"に設定されている場合は、この検査はおこなわれません。デフォルトでは、これは"yes (ホスト IP アドレスの検査をおこなう)"になっています。<p><dt>
<span class="config"><code>Cipher (暗号方式)</code></span><dd>
プロトコル バージョン 1 のセッションで使う暗号方式を指定します。現在のところ"blowfish""3des"および"des"がサポートされており、デフォルトは"3des"です。<span class="arg">des</span> は、<span class="arg">3des</span> 暗号をサポートしていない、もはや古くなったプロトコル 1 の実装と相互運用するためにのみサポートされています。純粋な des 暗号は弱いため、使用はおすすめしません。<p><dt>
<span class="config"><code>Ciphers (複数の暗号方式)</code></span><dd>
プロトコル バージョン 2 で使う暗号方式の優先順位を指定します。複数の暗号方式をカンマで区切って指定します。現在のところ、サポートされている暗号方式は以下のとおりです:
<p>
<blockquote>
<p><dt>
<dd>
3des-cbc<p><dt>
<dd>
aes128-cbc<p><dt>
<dd>
aes192-cbc<p><dt>
<dd>
aes256-cbc<p><dt>
<dd>
aes128-ctr<p><dt>
<dd>
aes192-ctr<p><dt>
<dd>
aes256-ctr<p><dt>
<dd>
aes128-gcm@openssh.com<p><dt>
<dd>
aes256-gcm@openssh.com<p><dt>
<dd>
arcfour<p><dt>
<dd>
arcfour128<p><dt>
<dd>
arcfour256<p><dt>
<dd>
blowfish-cbc<p><dt>
<dd>
cast128-cbc<p><dt>
<dd>
chacha20-poly1305@openssh.com</blockquote>

<p>
デフォルトは:<blockquote><pre>aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour</pre></blockquote>
の順になっています。
<p>
使用可能な暗号方式の一覧は、<a href="ssh.html"><span class="xr">ssh (1.)</span></a>
に対して<code><span class="flag">-Q</span></code> オプションを使用しても見ることができます。<p><dt>
<span class="config"><code>ClearAllForwardings (すべてのポート転送をキャンセル)</code></span><dd>
設定ファイルあるいはコマンドラインで指定された、ローカル、リモートおよびダイナミックなポート転送をすべてキャンセルします。この項目は設定ファイルで指定されているポート転送を<a href="ssh.html"><span class="xr">ssh (1)</span></a>
のコマンドラインで打ち消すためにあり、<a href="scp.html"><span class="xr">scp (1)</span></a>
や<a href="sftp.html"><span class="xr">sftp (1)</span></a>
で自動的に使われます。この引数の値は"yes"あるいは"no"です。デフォルトでは"no"になっています。<p><dt>
<span class="config"><code>Compression (圧縮)</code></span><dd>
データ圧縮をおこなうかどうかを指定します。引数の値は"yes"あるいは"no"です。デフォルトでは"no (圧縮をおこなわない)"になっています。<p><dt>
<span class="config"><code>CompressionLevel (圧縮レベル)</code></span><dd>
圧縮をおこなう際の圧縮レベルを指定します。この引数がとる値は整数の 1 (速い) から 9 (遅い、高圧縮率) までです。デフォルトの値は 6 で、ほとんどのアプリケーションにはこれで充分です。この値の意味は<span class="xr">gzip (1)</span>
と同じです。この項目はプロトコル バージョン 1 にのみ適用されることに注意してください。<p><dt>
<span class="config"><code>ConnectionAttempts (接続試行回数)</code></span><dd>
接続を試みる回数 (1 秒に 1 回) を指定します。これを越えるとssh は終了してしまいます。この値は整数でなければなりません。これは、ときどき接続に失敗する環境でのスクリプトなどに便利です。デフォルトは 1 回です。<p><dt>
<span class="config"><code>ConnectTimeout (接続タイムアウト)</code></span><dd>
SSH サーバに接続するときのタイムアウト時間を秒数で指定します。デフォルトの TCP タイムアウト時間に代わってこの値が使われます。この値は相手先ホストがダウンしているときか実際に到達不可能なときに使用され、接続が拒否されたときには使用されません。<p><dt>
<span class="config"><code>ControlMaster (マスターかどうか)</code></span><dd>
単一のネットワーク接続で、複数のセッションを共有します。これが"yes"に設定されている場合、<a href="ssh.html"><span class="xr">ssh (1)</span></a>
は<span class="config"><code>ControlPath</code></span>の引数で指定された制御用のソケットを listen します。追加のセッションを開くには、同じソケットを<span class="config"><code>ControlPath</code></span>に指定し、<span class="config"><code>ControlMaster</code></span>には"no"を指定します (これがデフォルト)。こうすると、そのセッションは新たにネットワーク接続するのではなく、すでにある Master インターフェイスのネットワーク接続の再利用を試みるようになります。ただし制御用ソケットが存在しないか、listen されていない場合は通常の接続になります。
<p>
この値を"ask"に指定すると、ssh は制御用のソケットを listen しますが、これを受けつける際に<span class="env">SSH_ASKPASS</span> プログラムによる確認を要求します(詳細は<a href="ssh-add.html"><span class="xr">ssh-add (1)</span></a>
を参照してください)。もし<span class="config"><code>ControlPath</code></span>がオープンできない場合、ssh は Master への接続なしに処理を継続します。
<p>
X11 および<a href="ssh-agent.html"><span class="xr">ssh-agent (1)</span></a>
中継は共有した接続の中でも有効ですが、中継する X11 ディスプレイおよびエージェントは Master の接続に所属しているものになります。つまり、複数のディスプレイやエージェントを転送することはできません。
<p>
このほかに、オプションとしてさらに 2 種類の方式が指定できます。"auto"または"autoask"を使うと、これらは Master 接続が利用できないときに、自動的に新しい接続を作ります (opportunistic multiplexing)。この場合、後者は"ask"オプションのように、ユーザに確認を求めます。<p><dt>
<span class="config"><code>ControlPath (制御用パス名)</code></span><dd>
上の<span class="config"><code>ControlMaster</code></span>項目で説明されている、ネットワーク接続を共有する際の制御用ソケットのパス名を指定します。接続の共有を禁止する場合は"none"を指定してください。このパス名の中ではエスケープシーケンスが利用でき、その場合 <kbd>%L</kbd> はローカルのホスト名の最初の部分に、 <kbd>%l</kbd> はローカルのホスト名 (ドメイン名がある場合はそれも含む) に、 <kbd>%h</kbd> は対象のリモートホスト名に、 <kbd>%n</kbd> はもとのコマンドラインで指定されたホスト名に、 <kbd>%p</kbd> は宛先のポートに、 <kbd>%r</kbd> はリモート側のログイン名に、 <kbd>%u</kbd> は<a href="ssh.html"><span class="xr">ssh (1)</span></a>
実行ユーザのログイン名に、そして <kbd>%C</kbd> は %l%h%p%r を連結したハッシュ値に変換されます。Master 接続が利用できないときに自動的に新しい接続を作るよう指定した場合(opportunistic multiplexing)、<span class="config"><code>ControlPath</code></span>の値には少なくとも %h, %p および %r (または %C) のエスケープシーケンスをすべて含めるようにすることが推奨されます。こうすることで、共有する接続を一意に定めることができるからです。<p><dt>
<span class="config"><code>ControlPersist (制御の持続)</code></span><dd>
これは<span class="config"><code>ControlMaster</code></span>項目と組み合わせて使います。この項目は、最初のクライアント接続が閉じられた後でも、(以後の接続のために)バックグラウンドで Master 接続を開いたままにするよう指示します。この値が"no"に設定されている場合、Master接続はバックグラウンドには移行せず、最初のクライアントが終了した直後に閉じられます。この値が"yes"の場合、Master接続はバックグラウンドで永続的に(kill されるか、<a href="ssh.html"><span class="xr">ssh (1)</span></a>
"Fl O No exit"のような方法で閉じられるまで)待ちつづけます。この値として秒数を指定するか、あるいは<a href="sshd_config.html"><span class="xr">sshd_config (5)</span></a>
で指定されている時間の形式を与えると、バックグラウンドの接続は指定された時間だけ idle な(クライアントが接続してこない) 状態が続いた後に自動的に閉じられます。<p><dt>
<span class="config"><code>DynamicForward (動的なポート転送)</code></span><dd>
暗号化された通信路を経由して、ローカルホスト側の TCP ポートを転送するよう指定します。このとき、どのリモートホストから接続するかを決定するためにアプリケーションレベルのプロトコルが使われます。
<p>
引数の値は [<span class="arg">bindするアドレス</span> :] <span class="arg">ポート</span> の形式です。IPv6 アドレスは、ブラケット [ ] で囲むことにより指定します。デフォルトでは、ローカルのポートは<span class="config"><code>GatewayPorts</code></span>の設定にしたがって bind されますが、<span class="arg">bindするアドレス</span> を明示的に書いておくことにより、特定のアドレスに bind させることもできます。<span class="arg">bindするアドレス</span> を"localhost"にすると、listen するポートはローカル専用になり、アドレスを指定しないか `<kbd>*</kbd>' にすると、ポートはすべてのネットワークインターフェイスで使用可能になります。
<p>
今のところ SOCKS4 および SOCKS5 プロトコルが使われており、<a href="ssh.html"><span class="xr">ssh (1)</span></a>
は SOCKS サーバのようにふるまいます。複数のポート転送も指定でき、コマンドラインからこれを追加することもできます。特権ポートを転送できるのは root だけです。<p><dt>
<span class="config"><code>EnableSSHKeysign (ssh-keysign を使用する)</code></span><dd>
システム設定ファイル<span class="file"><code>/etc/ssh/ssh_config</code></span>でこの項目を"yes"に設定すると、<span class="config"><code>HostbasedAuthentication</code></span>の際に<span class="xr">ssh-keysign (8)</span>
の使用が許可されます。引数の値は"yes"あるいは"no"です。デフォルトは"no"になっています。この項目はホストに依存しない部分に記述すべきです。詳しくは<span class="xr">ssh-keysign (8)</span>
を参照してください。<p><dt>
<span class="config"><code>EscapeChar (エスケープ文字)</code></span><dd>
エスケープ文字を設定します (デフォルトは <kbd>~</kbd> )。エスケープ文字はコマンドラインからも指定できます。この引数には 1 つの文字か、 <kbd>^</kbd> に 1 文字を付けたもの、あるいはエスケープ文字の使用をすべて禁止するなら"none"を指定します (これはその接続を、バイナリデータに対して透過にすることになります)。<p><dt>
<span class="config"><code>ExitOnForwardFailure (転送できない場合に終了)</code></span><dd>
要求された (ローカル、リモート、トンネリング、あるいはダイナミック)ポート転送すべてを設定できない場合に、<a href="ssh.html"><span class="xr">ssh (1)</span></a>
を終了すべきかどうかを指定します。引数は"yes"あるいは"no"のどちらかで、デフォルトは"no (転送できない場合にも終了しない)"です。<p><dt>
<span class="config"><code>ForwardAgent (エージェント転送)</code></span><dd>
認証エージェントへの接続を、(それが存在する時は) リモートマシン上に転送するかどうかを指定します。この引数の値は"yes"あるいは"no"でなければならず、デフォルトは"no (エージェント転送をおこなわない)"です。
<p>
認証エージェントの転送には注意が必要です。リモートホスト上で (エージェントの UNIX ドメインソケットに対する)ファイルアクセス権限を無視できてしまうユーザがいる場合は、転送された接続を介してローカル側の認証エージェントにアクセスできてしまうことになります。攻撃側は認証エージェントから鍵そのものを盗むことはできませんが、認証エージェントがもっている鍵に認証をおこなわせることはできます。<p><dt>
<span class="config"><code>ForwardX11 (X11 転送)</code></span><dd>
X11 接続を自動的に安全な通信路へリダイレクトし、<span class="env">DISPLAY</span> を設定するかどうかを指定します。この引数の値は"yes"あるいは"no"でなければならず、デフォルトは"no (X11 接続を転送しない)"です。
<p>
X11 の転送には注意が必要です。リモートホスト上で (そのユーザの X11 認証のための) ファイルアクセス権限を無視できてしまうユーザがいる場合は、転送された接続を介してローカル側のX11 ディスプレイにアクセスできてしまうことになります。もし、<span class="config"><code>ForwardX11Trusted</code></span>項目も許可されていたとすると、攻撃側はキーストロークを盗み見るなどの行為が可能になってしまうかもしれません。<p><dt>
<span class="config"><code>ForwardX11Timeout (X11転送タイムアウト)</code></span><dd>
信頼されていない X11 転送における、タイムアウトを指定します。時間の指定方法は、<a href="sshd_config.html"><span class="xr">sshd_config (5)</span></a>
にある「時間の表現」セクションに書かれています。<a href="ssh.html"><span class="xr">ssh (1)</span></a>
が受けつける X11 接続は、この時間が過ぎたあとは拒否されます。デフォルトでは、20分が経過すると信頼されていない X11接続は禁止されるようになっています。<p><dt>
<span class="config"><code>ForwardX11Trusted (信頼された X11 転送)</code></span><dd>
この項目が"yes"の場合、リモートの X11 クライアントは元の X11 ディスプレイに対する完全なコントロールが可能になります。
<p>
この項目が"no"に設定されている場合、リモートの X11 クライアントは信頼できないとみなされ、信頼された X11 クライアントに属するデータを盗み見たり改竄したりすることはできません。さらに、このセッションで使われる<span class="xr">xauth (1)</span>
トークンは 20 分後に期限が切れるよう設定されており、リモート側のクライアントは、この時間を過ぎるとアクセスを拒否されるようになります。
<p>
デフォルトでは"no"になっています。
<p>
信頼できないクライアントに課される制限についての完全な情報は、X11 SECURITY 拡張機能の仕様書を参照してください。<p><dt>
<span class="config"><code>GatewayPorts (ポート転送の中継)</code></span><dd>
ローカルからリモートへ転送されている (リモート→ローカルのポート転送)ポートに、他ホストからの接続を許すかどうかを指定します。デフォルトでは、<a href="ssh.html"><span class="xr">ssh (1)</span></a>
は転送されたローカルポートをループバックアドレス (127.0.0.1) にbind します。このため他の (訳注: サーバ以外の) ホストが転送されたポートに接続することはできません。<span class="config"><code>GatewayPorts</code></span>を使うと、ssh は転送されたローカルポートをワイルドカードアドレス (0.0.0.0) にbind するようになります。これは他のホストもその転送されたポートに接続できるということです。この引数の値は"yes"または"no"で、デフォルトは"no (転送されているポートに他ホストからの接続を許可しない)"に設定されています。<p><dt>
<span class="config"><code>GlobalKnownHostsFile (大域的 known_host ファイル)</code></span><dd>
そのホスト全体で大域的に使用されるホスト鍵データベースファイルを空白で区切って指定します。デフォルトは<span class="file"><code>/etc/ssh/ssh_known_hosts</code></span><span class="file"><code>/etc/ssh/ssh_known_hosts2</code></span>です。<p><dt>
<span class="config"><code>GSSAPIAuthentication (GSSAPI 認証)</code></span><dd>
GSSAPI ベースの認証をおこなうかどうかを指定します。デフォルトの値は"no"です。注意: この項目はプロトコル バージョン 2 にのみ適用されます。<p><dt>
<span class="config"><code>GSSAPIDelegateCredentials (証明書の転送)</code></span><dd>
証明書 (credential) をサーバに転送 (委譲) するかどうかを指定します。デフォルトは"no"になっています。注意: この項目はプロトコル バージョン 2 にのみ適用されます。<p><dt>
<span class="config"><code>HashKnownHosts (known_hostsをハッシュする)</code></span><dd>
<a href="ssh.html"><span class="xr">ssh (1)</span></a>
が新しいホストを<span class="file"><code>~/.ssh/known_hosts</code></span>に追加するとき、そのホスト名および IP アドレスをハッシュするよう指定します。これらのハッシュされた名前は<a href="ssh.html"><span class="xr">ssh (1)</span></a>
および<a href="sshd.html"><span class="xr">sshd (8)</span></a>
によって使われますが、たとえこれらの情報が見られても識別可能な情報が明らかになることはありません。この値は、デフォルトでは"no"になっています。すでに known_hosts 中にある名前に対して、あとからハッシュ化が適用されることはありませんが、<a href="ssh-keygen.html"><span class="xr">ssh-keygen (1)</span></a>
を使えばこれらも手動でハッシュすることができます。<p><dt>
<span class="config"><code>HostbasedAuthentication (ホストベースド認証)</code></span><dd>
ホスト間認証を使った rhosts ベースの認証をおこなうかどうかを指定します。とりうる引数の値は"yes"または"no"で、デフォルトは"no (ホストベースド認証を試みない)"になっています。この項目はプロトコル バージョン 2 にのみ適用され、<span class="config"><code>RhostsRSAAuthentication</code></span>と似ています。<p><dt>
<span class="config"><code>HostKeyAlgorithms (ホスト間認証の方式)</code></span><dd>
プロトコル バージョン 2 において、ホスト間認証で使われる方式を指定します。クライアントはここで指定された優先順位の方式を使って認証を試みます。この項目のデフォルトは<blockquote><pre>ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ssh-ed25519-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,ssh-dss-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-dss-cert-v00@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,ssh-ed25519,ssh-rsa,ssh-dss</pre></blockquote>
です。
<p>
相手ホストのホスト鍵がわかっている場合、これらのデフォルト値は相手のアルゴリズムに合うよう修正されます。<p><dt>
<span class="config"><code>HostKeyAlias (ホスト鍵のエイリアス)</code></span><dd>
ホスト鍵データベースからホスト鍵を検索するとき、あるいはデータベースにホスト鍵を保存するときに、実際のホスト名のかわりに使われる名前を指定します。この項目は SSH 接続をトンネリングしているときや、単一のホスト上で複数の sshd サーバを動かしているときなどに便利です。<p><dt>
<span class="config"><code>HostName (実際のホスト名)</code></span><dd>
実際にログインするホスト名を指定します。デフォルトでは<code><span class="nm">ssh_config</span></code>
はコマンドラインで与えられたホスト名に接続しますが、これを使うと、ホストのニックネームや省略形を使用することができます。ホスト名の部分に <kbd>%h</kbd> という文字列が含まれている場合、これはコマンドラインで指定されたホスト名に置き換えられます(これは qualify されていないホスト名を処理するときに有用です)。文字列 <kbd>%%</kbd> は単一の <kbd>%</kbd> に置き換えられます。これは IPv6リンクローカルのアドレスを指定する時に必要になる場合があります。
<p>
デフォルトは、コマンドラインで指定された名前になります。数字の IP アドレスでもかまいません(コマンドライン、<span class="config"><code>HostName</code></span>キーワードの両方とも)。<p><dt>
<span class="config"><code>IdentitiesOnly (ファイルに格納された秘密鍵のみを使用)</code></span><dd>
認証の際に、たとえ認証エージェント<a href="ssh-agent.html"><span class="xr">ssh-agent (1)</span></a>
または<span class="config"><code>PKCS11Provider</code></span>が複数の秘密鍵を持っていた場合でも、<code><span class="nm">ssh_config</span></code>
ファイルで指定された秘密鍵のみを使用するよう指定します。この引数のとりうるキーワードは"yes"または"no"です。この項目を使うのは、ssh-agent が多くの異なる秘密鍵を返すような状況でしょう。デフォルトでは"no"になっています。<p><dt>
<span class="config"><code>IdentityFile (identity ファイル)</code></span><dd>
ユーザの DSA, ECDSA, Ed25519 または RSA 認証用 identity (秘密鍵) を読むファイルを指定します。デフォルトは、プロトコル バージョン 1 の場合ユーザのホームディレクトリにある<span class="file"><code>~/.ssh/identity</code></span>ファイルが、プロトコル バージョン 2 の場合は<span class="file"><code>~/.ssh/id_dsa ,</code></span><span class="file"><code>~/.ssh/id_ecdsa ,</code></span><span class="file"><code>~/.ssh/id_ed25519</code></span>および<span class="file"><code>~/.ssh/id_rsa</code></span>が使われます。<span class="config"><code>IdentitiesOnly</code></span>が設定されていない場合は、これに加えて認証エージェントによって現れる identity も使われます。<a href="ssh.html"><span class="xr">ssh (1)</span></a>
は、<span class="config"><code>IdentityFile</code></span>で指定されるパス名に<span class="file"><code>-cert.pub</code></span>を追加した名前のファイルから、証明書に関する情報を読み込もうとします。
<p>
ユーザのホームディレクトリを表すのにチルダ表記や、以下のエスケープ文字を使うこともできます: <kbd>%d</kbd> (ローカルユーザのホームディレクトリ)、 <kbd>%d</kbd> (ローカルのユーザ名)、 <kbd>%l</kbd> (ローカルホスト名)、 <kbd>%h</kbd> (リモートホスト名)、あるいは <kbd>%r</kbd> (リモートのユーザ名)。
<p>
設定ファイルでは複数の identity を指定することもでき、この場合すべての identity が順に試されます。複数の<span class="config"><code>IdentityFile</code></span>が指定された場合、これは試す identity の一覧に追加されます(このふるまいは他の設定項目とは異なるものです)。
<p>
<span class="config"><code>IdentityFile</code></span>は<span class="config"><code>IdentitiesOnly</code></span>と組み合わせることによって、エージェントが認証時にどの identity を提供するかを選択することができます。<p><dt>
<span class="config"><code>IgnoreUnknown (不明な項目を無視)</code></span><dd>
設定ファイルを解析する際に不明な項目がある場合、それらを無視するパターンのリストを指定します。この項目は、<code><span class="nm">ssh_config</span></code>
に<a href="ssh.html"><span class="xr">ssh (1)</span></a>
によって認識されない項目がある場合のエラーを防ぐのに使われます。<span class="config"><code>IgnoreUnknown</code></span>項目は、これ以前に現れた項目には反応しないため、この項目は設定ファイルの最初に書いておくことを推奨します。<p><dt>
<span class="config"><code>IPQoS (QoS指定)</code></span><dd>
接続における IPv4 type-of-service または DSCP クラスを指定します。可能な値は"af11 ,""af12 ,""af13 ,""af21 ,""af22 ,""af23 ,""af31 ,""af32 ,""af33 ,""af41 ,""af42 ,""af43 ,""cs0 ,""cs1 ,""cs2 ,""cs3 ,""cs4 ,""cs5 ,""cs6 ,""cs7 ,""ef ,""lowdelay ,""throughput ,""reliability"または数値のいずれかです。このオプションには 1つあるいは2つの引数を空白で区切って与えることができます。引数が 1つ指定された場合、これはパケットクラスを無条件に指定します。引数が 2つ指定された場合、最初の引数は対話的セッションで使われ、2番目の引数は非対話的セッションで使われます。デフォルト値は、対話的セッションのときは"lowdelay"であり、非対話的セッションのときは"throughput"となっています。<p><dt>
<span class="config"><code>KbdInteractiveAuthentication (キーボード対話的認証)</code></span><dd>
キーボード対話的認証を使用するかどうかを指定します。このキーワードの引数は"yes"または"no"です。デフォルトは"yes"です。<p><dt>
<span class="config"><code>KbdInteractiveDevices (キーボード対話デバイス)</code></span><dd>
keyboard-interactive 認証で使われる入力方法を指定します。複数の入力方法を指定する場合は、カンマで区切ってください。デフォルトではサーバが提供した方法の一覧を使用します。どの方法が使用できるかは、サーバのサポートによります。OpenSSH サーバの場合、これは以下の組み合わせになります:"bsdauth 、""pam 、"および"skey 。"<p><dt>
<span class="config"><code>KexAlgorithms (鍵交換アルゴリズム)</code></span><dd>
利用可能な KEX (Key Exchange、鍵交換) アルゴリズムを指定します。複数のアルゴリズムはカンマで区切ってください。デフォルトは:<blockquote><pre>curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1</pre></blockquote>
<p><dt>
<span class="config"><code>LocalCommand (ローカルで実行するコマンド)</code></span><dd>
サーバへのログインが成功したあとにローカルマシン上で実行するコマンドを指定します。この行の終端までがコマンド文字列とみなされ、これはそのユーザのシェルによって実行されます。コマンド文字列では、以下のようなエスケープ文字が使用できます: <kbd>%d</kbd> (ローカル側でのホームディレクトリ), <kbd>%h</kbd> (リモート側でのホームディレクトリ), <kbd>%l</kbd> (ローカル側のホスト名), <kbd>%n</kbd> (コマンドラインで指定されたホスト名), <kbd>%p</kbd> (リモート側のポート), <kbd>%r</kbd> (リモート側のユーザ名) <kbd>%u</kbd> (ローカル側のユーザ名)あるいは、%l%h%p%r を連結したハッシュ値である <kbd>%C</kbd> 
<p>
このコマンドは同期的に実行され、これを実行する<a href="ssh.html"><span class="xr">ssh (1)</span></a>
のセッションにアクセスすることはできません。これは、対話的なコマンドに使われるべきではありません。
<p>
<span class="config"><code>PermitLocalCommand</code></span>が許可されていない場合、この項目は無視されます。<p><dt>
<span class="config"><code>LocalForward (ローカル→リモート転送)</code></span><dd>
ローカルマシンの TCP ポートを、安全な通信路を経由してリモートマシン上から与えられた host:port に転送するよう指示します(訳注: -L オプションと同じ)。最初の引数は [<span class="arg">bindするアドレス</span> :] <span class="arg">ポート</span> であり、2 番目の引数は<span class="arg">ホスト名</span> :<span class="arg">ホスト側ポート</span> で指定します。IPv6 アドレスは、ブラケット [ ] で囲むことにより指定します。ポート転送は複数指定することができ、コマンドラインから追加指定することもできます。特権ポートを転送できるのはスーパーユーザだけです。デフォルトでは、ローカル側のポートは<span class="config"><code>GatewayPorts</code></span>の設定に従って bind されますが、<span class="arg">bindするアドレス</span> を明示的に指定することで、特定のアドレスに接続をふり向けることができます。<span class="arg">bindするアドレス</span> として"localhost"を指定すると、ポートを listen するのはローカルな使用のみに限ることになります。いっぽう、空のアドレスまたは `<kbd>*</kbd>' を指定すると、そのポートはすべてのインターフェイスに対して使用可能になります。<p><dt>
<span class="config"><code>LogLevel (ログレベル)</code></span><dd>
<a href="ssh.html"><span class="xr">ssh (1)</span></a>
が出力するログの冗長性のレベルを指定します。とりうる値は次のとおりです:QUIET, FATAL, ERROR, INFO, VERBOSE, DEBUG, DEBUG1, DEBUG2および DEBUG3。デフォルトでは INFO になっています。DEBUG と DEBUG1 は等価です。DEBUG2、DEBUG3 はそれぞれさらに冗長なログになります。<p><dt>
<span class="config"><code>MACs (メッセージ認証コード)</code></span><dd>
使用する MAC (メッセージ認証コード) 方式の優先順位を指定します。MAC 方式はプロトコル バージョン 2 で使われる、データの改竄を防ぐ機構 (data integrity protection) です。複数の方式をカンマで区切って指定します。名前に"-etm"を含む方式では、MAC 値を暗号化のあとに計算します (encrypt-then-mac)。こちらのほうが安全であると考えられており、推奨されています。デフォルトは:<blockquote><pre>umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,hmac-ripemd160,hmac-sha1-96,hmac-md5-96</pre></blockquote>
の順になっています。<p><dt>
<span class="config"><code>NoHostAuthenticationForLocalhost (localhostでのホスト認証を抑制)</code></span><dd>
この項目はホームディレクトリがマシン間で共有されているときに使います。このような状況ではそれぞれ別々のマシンで localhost の指すホストが異なっているため、ユーザはホスト鍵が変わったという警告を受けてしまいます (訳注: 別々のホスト鍵をもつマシンで同一の localhostホスト鍵が共有されているため)。この項目を使うと、相手がlocalhost のときにはホスト間認証を抑制することができます。この引数がとりうる値は"yes"あるいは"no"です。デフォルトでは、相手が localhost でも鍵をチェックするようになっています。<p><dt>
<span class="config"><code>NumberOfPasswordPrompts (パスワード試行回数)</code></span><dd>
パスワードを最高何回まで訊くかを指定します。この回数を超えると認証は失敗します。このキーワードには整数を指定する必要があります。デフォルト値は 3 です。<p><dt>
<span class="config"><code>PasswordAuthentication (パスワード認証)</code></span><dd>
パスワード認証をおこなうかどうかを指定します。この引数の値は"yes"または"no"です。デフォルトでは"yes (パスワード認証をおこなう)"になっています。<p><dt>
<span class="config"><code>PermitLocalCommand (ローカルなコマンド実行許可)</code></span><dd>
<div class="cmdline"><kbd>LocalCommand </kbd></div>
設定項目か、あるいは<a href="ssh.html"><span class="xr">ssh (1)</span></a>
の<div class="cmdline"><kbd>! <span class="arg">コマンド</span> </kbd></div>
エスケープシーケンスを使ったローカルなコマンド実行を許可します。引数の値は"yes"あるいは"no"でなければならず、デフォルトは"no"です。<p><dt>
<span class="config"><code>PKCS11Provider (PKCS11プロバイダ)</code></span><dd>
どの PKCS#11 プロバイダを使うかを指定します。この項目の引数は、<a href="ssh.html"><span class="xr">ssh (1)</span></a>
が使用する PKCS#11 共有ライブラリで、ユーザの RSA秘密鍵を提供する PKCS#11 トークンと通信するために使われます。<p><dt>
<span class="config"><code>Port (ポート番号)</code></span><dd>
リモートホストに接続するときのポート番号を指定します。デフォルトのポートは 22 です。<p><dt>
<span class="config"><code>PreferredAuthentications (認証の優先順位)</code></span><dd>
プロトコル 2 で試される認証の優先順位を指定します。これによって、クライアントは特定の認証 (<span class="config"><code>keyboard-interactive</code></span>など) をそれ以外の認証 (<span class="config"><code>password</code></span>など) よりも優先して選ぶことができます。デフォルトは<blockquote><pre>gssapi-with-mic,hostbased,publickey,keyboard-interactive,password</pre></blockquote>
になっています。<p><dt>
<span class="config"><code>Protocol (プロトコル)</code></span><dd>
<a href="ssh.html"><span class="xr">ssh (1)</span></a>
がサポートすべきプロトコルのバージョンの優先順位を指定します。とりうる値は `<kbd>1</kbd>' と `<kbd>2</kbd>' です。複数のバージョンを指定するときはカンマで区切ってください。この値を"2,1"のようにすると、<code><span class="nm">ssh</span></code>
はまず始めにバージョン 2 がサポートされているかどうかを調べ、サーバがそれをサポートしていなかった場合にバージョン 1 を使用します。(訳注: もしサーバ側がバージョン 2 の認証をサポートしていた場合、バージョン 2 での認証に失敗すると ssh はそこで終了します。バージョン 1 の認証は *おこなわない* ため、注意してください)デフォルトは `<kbd>2</kbd>' です。<p><dt>
<span class="config"><code>ProxyCommand (プロキシ コマンド)</code></span><dd>
サーバに接続するのに使用するコマンドを指定します。コマンド文字列はこのキーワード以後、行末まで書くことができます。コマンド文字列は、そのユーザのシェルによって実行されます。このとき、実行後にシェルが残らないように <kbd>exec</kbd> 指令が使われます。
<p>
コマンド文字列では、 <kbd>%h</kbd> は接続するホスト名に置換され、 <kbd>%p</kbd> はポートに置換され、 <kbd>%r</kbd> はリモートのユーザ名に置換されます。コマンドは基本的に何でもよいのですが、標準入力から読み込み、標準出力に書き込むようなものである必要があります。これは最終的にサーバマシン上で動いている<a href="sshd.html"><span class="xr">sshd (8)</span></a>
に接続するか、どこか別の場所で<div class="cmdline"><kbd>sshd -i</kbd></div>
を起動させるようにします。ホスト鍵の管理は接続されているホストのHostName を使っておこなわれます (デフォルトでは、これはユーザがタイプした名前になります)。このコマンドを"none"に設定すると、このオプションは完全に使用禁止になります。プロキシ コマンドを使うと、<span class="config"><code>CheckHostIP (ホスト IP アドレスの検査)</code></span>は使用できませんので注意してください。
<p>
この設定項目は、<span class="xr">nc (1)</span>
のプロキシ・サポートと組み合わせて使うのに有用です。たとえば、以下の設定では 192.0.2.0 の HTTP プロキシ経由で接続します:<blockquote><pre>ProxyCommand /usr/bin/nc -X connect -x 192.0.2.0:8080 %h %p</pre></blockquote>
<p><dt>
<span class="config"><code>ProxyUseFdpass (プロキシでファイル記述子を使用)</code></span><dd>
接続中のファイル記述子を<span class="config"><code>ProxyCommand</code></span>がそのまま実行を続けて渡すのではなく、<a href="ssh.html"><span class="xr">ssh (1)</span></a>
に戻すよう指示します。デフォルトは"no"になっています。<p><dt>
<span class="config"><code>PubkeyAuthentication (公開鍵認証)</code></span><dd>
公開鍵認証をおこなうかどうかを指定します。このキーワードの引数は"yes"か"no"のどちらかです。デフォルトでは"yes (公開鍵認証をおこなう)"になっています。この設定項目はプロトコル バージョン 2 にのみ適用されます。<p><dt>
<span class="config"><code>RekeyLimit (rekey の制限)</code></span><dd>
セッション鍵が再生成される (rekey) までに許される最大のデータ量を指定します。また、鍵が再生成されるまでの最大の時間も指定できます。第1引数の値はバイト数で指定し、サフィックスとして `<kbd>K</kbd>' 、 `<kbd>M</kbd>' 、あるいは `<kbd>G</kbd>' を使うことができます。それぞれ、キロバイト(K)、メガバイト(M)、ギガバイト(G) を表します。デフォルトは暗号方式によりますが `<kbd>1G</kbd>' から `<kbd>4G</kbd>' までの間です。第2引数はオプションで、ここには再生成までの時間を<a href="sshd_config.html"><span class="xr">sshd_config (5)</span></a>
「時間の表現」セクションにある形式で指定できます。<span class="config"><code>RekeyLimit</code></span>のデフォルト値は"default none"で、これは鍵の再生成がその暗号アルゴリズムのデフォルト値で許されるデータ量だけ送信または受信したときにおこなわれることを示し、時間による再生成はおこなわないことを意味します。この設定項目はプロトコル バージョン 2 にのみ適用されます。<p><dt>
<span class="config"><code>RemoteForward (リモート→ローカル転送)</code></span><dd>
リモートマシン上の TCP ポートを、安全な通信路を経由してローカルマシン上から与えられた host:post に転送するよう指示します(訳注: -R オプションと同じ)。最初の引数は [<span class="arg">bindするアドレス</span> :] <span class="arg">ポート</span> であり、2 番目の引数は<span class="arg">ホスト名</span> :<span class="arg">ホスト側ポート</span> で指定します。IPv6 アドレスは、ブラケット [ ] で囲むことにより指定します。ポート転送は複数指定することができ、コマンドラインから追加指定することもできます。特権ポートを転送できるのは、そのリモートホスト上に root としてログインできるときだけです。
<p>
<span class="arg">ポート</span> 引数が <kbd>0</kbd> の場合、listen するポートはサーバ側で動的に割り当てられ、実行時にクライアント側にその値が報告されます。
<p>
デフォルトでは、サーバ側で listen するソケットはループバックインターフェイスにのみ bind されます。これは<span class="arg">bindするアドレス</span> を指定することによって上書きすることができます。空の<span class="arg">bindするアドレス</span> または <kbd>*</kbd> をアドレスとして指定すると、サーバ側のソケットはすべてのインターフェイスに対して listen するようになります。<span class="arg">bindするアドレス</span> にループバック以外の値が指定できるのは、<span class="config"><code>GatewayPorts</code></span>設定項目が許可されているときのみです (<a href="sshd_config.html"><span class="xr">sshd_config (5)</span></a>
を参照してください)。<p><dt>
<span class="config"><code>RequestTTY (TTYの要求)</code></span><dd>
セッションに対して、仮想端末 (TTY) を要求するかどうかを指定します。とりうる引数の値は"no"(TTYを要求しない)、"yes"(標準入力がTTYの場合はTTYを要求する)、"force"(つねにTTYを要求する)、あるいは"auto"(ログインセッションのときにTTYを要求する)となっています。この項目は、<a href="ssh.html"><span class="xr">ssh (1)</span></a>
における<code><span class="flag">-t</span></code> および<code><span class="flag">-T</span></code> オプションに対応しています。<p><dt>
<span class="config"><code>RhostsRSAAuthentication (rhosts-RSA 認証)</code></span><dd>
RSA ホスト認証を使った rhosts ベースの認証を試みるかどうかを指定します。この引数の値は"yes"または"no"です。デフォルトの値は"no (rhosts-RSA 認証をおこなわない)"です。この設定項目はプロトコル バージョン 1 にのみ適用されます。このオプションを使うには<a href="ssh.html"><span class="xr">ssh (1)</span></a>
を setuid root にしておくことが必要です。<p><dt>
<span class="config"><code>RSAAuthentication (RSA 認証)</code></span><dd>
RSA 認証を使うかどうかを指定します。この引数の値は"yes"または"no"です。RSA 認証は identity ファイルが存在するときか、認証エージェントが動いているときのみ使用されます。デフォルトは"yes (RSA 認証をおこなう)"です。この設定項目はプロトコル バージョン 1 にしか適用されないので注意してください。<p><dt>
<span class="config"><code>SendEnv (環境変数を送信)</code></span><dd>
ローカルな環境変数(<span class="xr">environ (7)</span>
) のうち、どれをサーバに送信すべきかを設定します。注意: 環境変数の受け渡しがサポートされているのはプロトコル バージョン 2 のみで、サーバがこれをサポートするようになっており、なおかつそれらの環境変数を許可するよう設定されているときだけです。サーバ側の設定については、<a href="sshd_config.html"><span class="xr">sshd_config (5)</span></a>
にある<span class="config"><code>AcceptEnv</code></span>を参照してください。変数は名前によって指定されます。この名前にはワイルドカード文字を含むことができます。複数の環境変数を指定する場合は空白によって区切るか、複数の<span class="config"><code>SendEnv</code></span>項目を指定することができます。デフォルトでは、どの環境変数も送られないようになっています。
<p>
ワイルドカード文字の詳細については<a href="#パターン">パターン</a>を参照してください。<p><dt>
<span class="config"><code>ServerAliveCountMax (サーバ生存カウント最大値)</code></span><dd>
<a href="ssh.html"><span class="xr">ssh (1)</span></a>
がサーバからの返答を確認するまでに、サーバ生存確認メッセージ (下記参照)を何回まで送るかを指定します。この回数が指定された数値を超えると、ssh はサーバ側との接続を切断し、セッションを終了させます。重要なのは、サーバ生存確認メッセージは以下に記されている<span class="config"><code>TCPKeepAlive</code></span>とはまったく違うということです。サーバ生存確認メッセージは暗号化された通信路を経由して送られるので、偽装可能ではありません。これに対して、<span class="config"><code>TCPKeepAlive</code></span>で指定される TCP の keepalive オプションは偽装が可能です。このサーバ生存確認の機構は、クライアントまたはサーバ側が、いつ接続が切れたかを知りたいときに有用です。
<p>
このデフォルト値は、 3 です。たとえばもし、<span class="config"><code>ServerAliveInterval</code></span>(下記) が 15 に設定されており、<span class="config"><code>ServerAliveCountMax</code></span>がデフォルトのままだったとしたら、ssh はサーバが応答しなくなった後およそ 45 秒後に接続を切断します。この設定項目はプロトコル バージョン 2 にのみ適用されます。<p><dt>
<span class="config"><code>ServerAliveInterval (サーバ生存確認の間隔)</code></span><dd>
一定期間サーバからデータが送られてこないときに、タイムアウトする秒数を設定します。この場合<a href="ssh.html"><span class="xr">ssh (1)</span></a>
は暗号化された通信路を介してサーバ側に返答を要求するメッセージを送ります。デフォルトは 0 で、これはこのようなメッセージをサーバ側に送らないことを指示しています。この設定項目は プロトコル バージョン 2 でのみ有効です。<p><dt>
<span class="config"><code>StreamLocalBindMask (Unixドメインソケット作成時のマスク)</code></span><dd>
ローカルまたはリモートのポート転送のさいに、Unixドメインソケットファイルを作成する時の<div>
umask</div>
値を指定します。この設定項目は Unixドメインソケットファイルに対してポート転送をおこなう時にのみ有効です。
<p>
デフォルトの値は 0177 であり、これは作成された Unixドメインソケットが所有者にのみ読み書き可能であることを示しています。注意: すべてのオペレーティングシステムが Unixドメインソケットのファイルモードに従うわけではありません。<p><dt>
<span class="config"><code>StreamLocalBindUnlink (Unixドメインソケットを削除する)</code></span><dd>
ローカルまたはリモートのポート転送で、新しい Unixドメインソケットファイルを作成するさいに既存のソケットファイルを削除するかどうかを指定します。もしソケットファイルがすでに存在し、<span class="config"><code>StreamLocalBindUnlink</code></span>が有効となっていない場合、<code><span class="nm">ssh</span></code>
はその Unixドメインソケットに対してポート転送をおこなうことができません。この設定項目は Unixドメインソケットファイルに対してポート転送をおこなう時にのみ有効です。
<p>
とりうる引数は"yes"または"no"で、デフォルトは"no"になっています。<p><dt>
<span class="config"><code>StrictHostKeyChecking (厳格なホスト鍵チェック)</code></span><dd>
この設定項目が"yes"に設定されている場合、<a href="ssh.html"><span class="xr">ssh (1)</span></a>
は決して<span class="file"><code>~/.ssh/known_hosts</code></span>ファイルに自動的にホスト認証鍵を追加しません。鍵が変更されているホストへの接続は拒否されます。これはトロイの木馬攻撃に対する最大の防御となりますが、<span class="file"><code>/etc/ssh/ssh_known_hosts</code></span>ファイルをきちんと更新していなかったり、新規のホストに頻繁に接続するような状況だと邪魔になるかもしれません。このオプションを使うとユーザは手で新しいホストの鍵を追加しなければならなくなります。この設定項目が"no"に設定されている場合、ssh は新しいホスト鍵をユーザの known_hosts ファイルに自動的に追加します。この設定項目が"ask"に設定されていると、新しいホスト鍵が追加されるのは、ユーザが本当にそれを望んでいると確認できたときだけになります。ホスト鍵が変更されているホストへの接続は拒否されます。known_hosts ファイルに含まれているホスト鍵はいかなる場合でも自動的に検査されます。この設定項目がとりうる値は"yes"、"no"あるいは"ask"で、デフォルトは"ask"です。<p><dt>
<span class="config"><code>TCPKeepAlive (TCP接続を生かしておく)</code></span><dd>
システムが相手のマシンに TCP keepalive メッセージを送るかどうかを指定します。これが送られると、接続の異常終了や相手マシンのクラッシュが正しく通知されるようになります。しかしこれを使うと、たとえ経路が一時的にダウンしていても接続が死んでいるということになってしまい、これが邪魔になる場合もあります。
<p>
デフォルトは"yes (TCP keepalive メッセージを送る)"です。そのためクライアントはネットワークがダウンするか、リモートホストが落ちると通知してきます。これはスクリプト中では重要であり、多くのユーザもこれを望んでいます。
<p>
TCP Keepalive メッセージを禁止するには、この値を"no"にする必要があります。<p><dt>
<span class="config"><code>Tunnel (トンネリングの指定)</code></span><dd>
クライアントとサーバ間で<span class="xr">tun (4)</span>
デバイスの転送を要求します。とりうる値は"yes"、"point-to-point"(layer 3)、"ethernet"(layer 2)あるいは"no"です。"yes"を指定するとデフォルトのトンネリング方法として"point-to-point"を使用します。デフォルトでは"no"になっています。<p><dt>
<span class="config"><code>TunnelDevice (トンネリングするデバイス)</code></span><dd>
トンネリングに使う<span class="xr">tun (4)</span>
デバイスをクライアント側で<div>
<span class="arg">ローカルtun</span> </div>
に、サーバ側で<div>
<span class="arg">リモートtun</span> </div>
に強制的に指定します。
<p>
この引数は<span class="arg">ローカルtun</span>  [:<span class="arg">リモートtun</span> ]
の形である必要があります。デバイス名にはインターフェイス番号か、キーワード"any"を指定します。これを指定すると次に使用可能なデバイスが選択されることになります。<span class="arg">リモートtun</span> が指定されない場合、これは"any"とみなされます。この設定項目のデフォルト値は"any:any"です。<p><dt>
<span class="config"><code>UsePrivilegedPort (特権ポートを使用する)</code></span><dd>
外に向けての接続をおこなうときに、特権ポートを使用するかどうかを指定します。この引数の値は"yes"または"no"で、デフォルトは"no"になっています。"yes"に設定した場合、<a href="ssh.html"><span class="xr">ssh (1)</span></a>
は setuid root である必要があります。注意:旧式の sshd に対して<span class="config"><code>RhostsRSAAuthentication</code></span>認証が必要な場合は、この設定項目を"yes"にする必要があります。<p><dt>
<span class="config"><code>User (ユーザ)</code></span><dd>
ログインするユーザ名を指定します。これは異なるマシン上で異なるユーザ名が使われている場合に便利です。これでコマンドラインからわざわざユーザ名を与えなくてもすみます。<p><dt>
<span class="config"><code>UserKnownHostsFile (個人用 known_hosts ファイル)</code></span><dd>
ホスト鍵データベースとして使うファイルを空白で区切って指定します。デフォルトでは<span class="file"><code>~/.ssh/known_hosts</code></span><span class="file"><code>~/.ssh/known_hosts2</code></span>になっています。<p><dt>
<span class="config"><code>VerifyHostKeyDNS (DNSでホスト鍵を確認する)</code></span><dd>
DNS と SSHFP 資源レコードを使って、リモートホストの公開鍵を検証するかどうかを指定します。この設定項目が"yes"に設定されていると、クライアントは暗黙のうちにDNS 上の安全な指紋に一致する鍵を信頼するようになります。安全でない指紋については、この設定項目を"ask"とすることによって扱います。この設定項目が"ask"に設定されていると、一致した指紋に関する情報が表示されますが、それでもユーザは<span class="config"><code>StrictHostKeyChecking</code></span>設定項目に従って新しいホスト鍵を確認しなければなりません。この設定項目がとりうる値は"yes"、"no"あるいは"ask"です。デフォルトでは"no"になっています。注意: この設定項目はプロトコル バージョン 2 にのみ適用されます。
<p>
<a href="ssh.html"><span class="xr">ssh (1)</span></a>
の「ホスト鍵の検証」も参照してください。<p><dt>
<span class="config"><code>VisualHostKey (視覚的なホスト鍵)</code></span><dd>
この項目が"yes"に設定されている場合、ホスト鍵が未知であるマシンにログインしようとした時、通常の16進数表示のリモートホストの鍵の指紋に加えて、これをアスキーアートで表現したものが表示されます。この項目が"no"の場合は、ホスト鍵が未知であるマシンにログインしようとした時に16進表示の指紋のみが表示されます。デフォルトは"no"です。<p><dt>
<span class="config"><code>XAuthLocation (xauth の位置)</code></span><dd>
<span class="xr">xauth (1)</span>
プログラムのフルパス名を指定します。デフォルトは<span class="file"><code>/usr/X11R6/bin/xauth</code></span>です。</dl>
<hr>
<h2><a href="#パターン" name="パターン">パターン</a></h2>
<strong>パターン</strong>は、0 個以上の非空白文字か、 `<kbd>*</kbd>' (0 個または以上の任意の文字に一致する)あるいは `<kbd>?</kbd>' (任意の 1 文字だけに一致する)によって構成されます。たとえば、".co.uk"ドメインの任意のホストに適用される宣言を指定したい場合には、以下のようなパターンが使えます:
<p>
<div class="cmdline"><kbd>Host *.co.uk</kbd></div>

<p>
以下のパターンはアドレス範囲が 192.168.0.[0-9] にある任意のホストに一致します:
<p>
<div class="cmdline"><kbd>Host 192.168.0.?</kbd></div>

<p>
<strong>パターン列</strong>はカンマ (,) で区切られたパターンの列をさします。パターン列中の各パターンは、先頭に感嘆符<div>
 `<kbd>!</kbd>' </div>
をつけることによって否定を表すことができます。たとえば、ある組織内の"dialup"プール以外から接続してきた場合に鍵の使用を許可する場合、(authorized_keys ファイルで) 以下のようなエントリを使うことができます:
<p>
<div class="cmdline"><kbd>from=!*.dialup.example.com,*.example.com </kbd></div>
<hr>
<h2><a href="#関連ファイル" name="関連ファイル">関連ファイル</a></h2>
<dl>
<p><dt>
<span class="file"><code>~/.ssh/config</code></span><dd>
ユーザごとの個人用設定ファイルです。ファイル形式は上で説明されています。このファイルは SSH クライアントによって使われます。このファイルは潜在的に悪用される危険性があるため、パーミッションは厳しくしておくのがいいでしょう。所有者のみが読み書き可能で、他からはアクセスできないようにしておくべきです。<p><dt>
<span class="file"><code>/etc/ssh/ssh_config</code></span><dd>
システム全体にわたる設定ファイルです。このファイルはユーザの設定ファイルでは指定されなかった値を提供し、また設定ファイルを持たないユーザのためのデフォルトにもなります。このファイルは誰にでも読み込み可能でなければいけません。</dl>
<hr>
<h2><a href="#関連項目" name="関連項目">関連項目</a></h2>
<a href="ssh.html"><span class="xr">ssh (1)</span></a>
<hr>
<h2><a href="#作者" name="作者">作者</a></h2>
OpenSSH は Tatu Ylonen による、フリーなオリジナル版 ssh 1.2.12 リリースから派生したものです。Aaron Campbell、 Bob Beck、 Markus Friedl、 Niels Provos、Theo de Raadt および Dug Song が多くのバグを取り除き、新しい機能をふたたび追加して OpenSSH をつくりました。SSH プロトコル バージョン 1.5 および 2.0 のサポートはMarkus Friedl の貢献によるものです。
</body>
</html>
